:plugin: tld
:type: filter

///////////////////////////////////////////
START - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////
:version: %VERSION%
:release_date: %RELEASE_DATE%
:changelog_url: %CHANGELOG_URL%
:include_path: ../../../logstash/docs/include
///////////////////////////////////////////
END - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////

[id="plugins-{type}-{plugin}"]

=== Tld filter plugin

include::{include_path}/plugin_header.asciidoc[]

==== Description

This filter is a domain name parser based on the https://publicsuffix.org/[Public Suffix List].

For more information on this ruby parser, see https://github.com/weppos/publicsuffix-ruby

Using filter defaults, parsing `example.blogspot.com` would yield:

[source,json]
----------------------------------
"tld": {
 "tld": "com",
 "sld": "blogspot",
 "trd": "example",
 "domain": "blogspot.com",
 "subdomain": "example.blogspot.com"
}
----------------------------------

setting `ignore_private => false` enables private (non-ICANN) domain parsing.
See the https://publicsuffix.org/list/public_suffix_list.dat[the public suffix list] for details on private/public domains.

Enabling private domain parsing, `example.blogspot.com` would now yield:

[source,json]
----------------------------------
"tld": {
 "tld": "blogspot.com",
 "sld": "example",
 "domain": "example.blogspot.com"
}
----------------------------------

[id="plugins-{type}s-{plugin}-options"]
==== Tld Filter Configuration Options

This plugin supports the following configuration options plus the <<plugins-{type}s-common-options>> described later.

[cols="<,<,<",options="header",]
|=======================================================================
|Setting |Input type|Required
| <<plugins-{type}s-{plugin}-source>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-target>> |<<string,string>>|No
| <<plugins-{type}s-{plugin}-ignore_private>> |<<boolean,boolean>>|Yes
|=======================================================================

Also see <<plugins-{type}s-common-options>> for a list of options supported by all
filter plugins.

&nbsp;

[id="plugins-{type}s-{plugin}-source"]
===== `source`

  * Value type is <<string,string>>
  * Default value is `"message"`

Setting the config_name here is required. This is how you
configure this filter from your Logstash config.

filter {
  example {
    message => "My message..."
  }
}

The source field to parse

[id="plugins-{type}s-{plugin}-target"]
===== `target`

  * Value type is <<string,string>>
  * Default value is `"tld"`

The target field to place all the data

[id="plugins-{type}s-{plugin}-ignore_private"]
===== `ignore_private`

  * Value type is <<boolean,boolean>>
  * Default value is `"true"`

Allows private (non-ICANN) domain parsing



include::{include_path}/{type}.asciidoc[]
